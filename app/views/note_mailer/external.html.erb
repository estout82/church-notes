<%#
  Renders the email that is send to a user when they request to
  receive the note via email
%>

<div role="article" aria-roledescription="email" aria-label="You have been invited" lang="en">
  <table style="width: 100%; font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', sans-serif" cellpadding="0" cellspacing="0" role="presentation">

    <tr style="height: 16px;"></tr>

    <tr style="">
      <td align="center">
      </td>
    </tr>
    <tr>
      <td align="center" style="padding-top: 24px; padding-bottom: 24px">
        <table class="sm-w-full" style="width: 600px" cellpadding="0" cellspacing="0" role="presentation">
          <tr>
            <td align="center" class="sm-px-6">
              <table class="sm-w-full" style="width: 600px;" cellpadding="0" cellspacing="0" role="presentation">
                <tr>
                  <td>
                    <% if @note.banner? %>
                      <img
                        src="<%= @note.best_banner_url %>"
                        alt="note banner"
                        style="border-radius: 4px; width: 600px; margin-bottom: 24px;"
                      >
                    <% end %>
                  </td>
                </tr>
                <tr>
                  <td class="sm-px-6" style="border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; background-color: #fff; padding: 48px; border-radius: 4px;">
                    <h1 style="font-size: 48px; font-weight: 700; color: #000; text-align: center;">
                      <%= @note.title %>
                    </h1>

                    <% @note.friendly_editor_data.each do |data| %>
                      <%= render data.to_email_partial_path, block_data: data, renderer: @renderer %>
                    <% end %>

                  </td>
                </tr>
                <tr>
                  <td style="height: 2px; background-color: #d1d5db"></td>
                </tr>
                <tr>
                  <td style="padding: 32px; text-align: center; font-size: 12px; color: #4b5563">
                    <p style="margin: 0 0 16px; text-transform: uppercase">NotesPro</p>
                    <p style="margin: 0; font-style: italic">Create engaging sermon outlines in seconds.</p>
                    <p style="margin-top: 16px">
                      <a href="https://app.notespro.church/" target="_blank" class="hover-text-decoration-underline" style="text-decoration: none; color: #3b82f6">
                        Login
                      </a>
                    </p>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>
